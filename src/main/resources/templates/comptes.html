<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Gestion des comptes</title>
</head>
<body>
<div class="container">


	<h1>Ajouter un nouveau Compte</h1>
	<form id="saveForm" th:action="@{save}" method="post">
		<table class="table form-table">
			<tr>
				<td>Numéro RIB</td>
				<td>
					<div class="input-group">
						<input type="number" name="rib" id="rib" placeholder="Entrez un nouveau RIB" class="form-control"  />
						<button type="button" id="generateRibBtn" class="btn btn-primary">Générer</button>
					</div>
				</td>
			</tr>

			<tr>
				<td>Nom du client</td>
				<td><input type="text" id="clientName" class="form-control" placeholder="Entrez le nom du client" required></td>
			</tr>
			<tr>
				<td>Solde dans le compte</td>
				<td><input type="text" name="solde" id="solde" placeholder="Entrez la somme initiale" class="form-control" /></td>
			</tr>
			<tr>
				<td colspan="2" class="text-center">
					<button type="button" class="btn btn-primary" onclick="saveCompte()">Save</button>
				</td>
			</tr>
		</table>
	</form>

	<hr />

	<h1>Liste des Comptes</h1>
	<div class="table-container">
		<table class="table table-bordered">
			<thead>
			<tr>
				<th>Numéro RIB</th>
				<th>Nom du client</th>
				<th>Solde dans le compte</th>
				<th>Supprimer ce compte</th>
				<th>Mettre à jour ce compte</th>
			</tr>
			</thead>
			<tbody>
			<tr th:each="compte : ${comptes}" th:id="'row-' + ${compte.rib}">
				<td th:text="${compte.rib}"></td>
				<td th:text="${compte.client.getName}"></td>
				<td th:text="${compte.solde}"></td>
				<td>
					<button type="button" th:onclick="|deleteCompte(${compte.rib}, event)|" class="btn btn-danger">Delete</button>
				</td>
				<td>
					<button type="button" class="btn btn-warning" th:onclick="showEditAlert([[${compte.rib}]])">
						Edit
					</button>
				</td>
			</tr>
			</tbody>
		</table>
	</div>
</div>
<a href="http://localhost:8085/clients/">Allez vers la page des clients</a>


<script src="/js/bootstrap.bundle.min.js"></script>
<script src="/js/sweetalert.min.js"></script>
<script src="/js/jquery-3.7.1.min.js"></script>
<script src="/js/comptes.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css" />
<script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>
<link rel="stylesheet" href="/css/Style.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

</body>
</html>
